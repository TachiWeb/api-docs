
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication-get-auth" class="toc-h1 toc-link" data-title="authentication-code-get-auth-code">Authentication <code>GET /auth</code></a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#verifying-auth-tokens-get-test_auth" class="toc-h2 toc-link" data-title="verifying-auth-tokens-code-get-test_auth-code">Verifying Auth Tokens <code>GET /test_auth</code></a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#manga" class="toc-h1 toc-link" data-title="manga">Manga</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#library-manga-get-library" class="toc-h2 toc-link" data-title="library-manga-code-get-library-code">Library manga <code>GET /library</code></a>
                  </li>
                  <li>
                    <a href="#thumbnail-images-get-cover" class="toc-h2 toc-link" data-title="thumbnail-images-code-get-cover-code">Thumbnail images <code>GET /cover</code></a>
                  </li>
                  <li>
                    <a href="#toggle-favorite-status-get-fave" class="toc-h2 toc-link" data-title="toggle-favorite-status-code-get-fave-code">Toggle favorite status <code>GET /fave</code></a>
                  </li>
                  <li>
                    <a href="#get-chapters-get-chapters" class="toc-h2 toc-link" data-title="get-chapters-code-get-chapters-code">Get chapters <code>GET /chapters</code></a>
                  </li>
                  <li>
                    <a href="#get-manga-info-get-manga_info" class="toc-h2 toc-link" data-title="get-manga-info-code-get-manga_info-code">Get manga info <code>GET /manga_info</code></a>
                  </li>
                  <li>
                    <a href="#get-chapter-page-count-get-page_count" class="toc-h2 toc-link" data-title="get-chapter-page-count-code-get-page_count-code">Get chapter page count <code>GET /page_count</code></a>
                  </li>
                  <li>
                    <a href="#set-chapter-reading-status-get-reading_status" class="toc-h2 toc-link" data-title="set-chapter-reading-status-code-get-reading_status-code">Set chapter reading status <code>GET /reading_status</code></a>
                  </li>
                  <li>
                    <a href="#set-manga-flag-get-set_flag" class="toc-h2 toc-link" data-title="set-manga-flag-code-get-set_flag-code">Set manga flag <code>GET /set_flag</code></a>
                  </li>
                  <li>
                    <a href="#update-manga-get-update" class="toc-h2 toc-link" data-title="update-manga-code-get-update-code">Update manga <code>GET /update</code></a>
                  </li>
                  <li>
                    <a href="#chapter-page-images-get-img" class="toc-h2 toc-link" data-title="chapter-page-images-code-get-img-code">Chapter page images <code>GET /img</code></a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="errors">Errors</a>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a Developer Key</a></li>
            <li><a href='https://github.com/lord/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <!-- TODO
Mention: TWApi.Commands.Image.buildUrl({
            mangaId: mangaId,
            chapterId: chapterId,
            page: page
        })
        
Describe JS client usages
-->
<h1 id='introduction'>Introduction</h1>
<p>Welcome to the TachiWeb API! You can use the API to perform actions and get information on/from your Tachiyomi library.</p>

<aside class="notice">
Remember to replace all instances of <code>localhost:4567</code> in the code examples with whereever your server is actually running
</aside>
<h1 id='authentication-get-auth'>Authentication <code>GET /auth</code></h1>
<blockquote>
<p>To grab an authentication token, use this code:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://localhost:4567/api/auth"</span> -G <span class="se">\</span>
  -d <span class="s2">"password=YOUR_PASSWORD"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">TWApi</span><span class="p">.</span><span class="nx">Commands</span><span class="p">.</span><span class="nx">Auth</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// You can actually just ignore the result, more on this later</span>
    <span class="kd">var</span> <span class="nx">apiToken</span> <span class="o">=</span> <span class="nx">result</span><span class="p">.</span><span class="nx">token</span><span class="p">;</span> 

    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"My API token is: "</span> <span class="o">+</span> <span class="nx">apiToken</span><span class="p">);</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Authentication failed!"</span><span class="p">);</span>
<span class="p">},</span> <span class="p">{</span>
    <span class="na">password</span><span class="p">:</span> <span class="s2">"YOUR_PASSWORD"</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>Make sure to replace <code>YOUR_PASSWORD</code> with the user&#39;s password.</p>
</blockquote>

<p>Almost every endpoint in the TachiWeb API requires authentication (if the user set a password). To authenticate, you must first obtain an authentication token. Then you must provide the authentication token when performing your API requests. <strong>You do not need a session token if the user set no password.</strong></p>

<aside class="notice">
Authentication tokens <b>regularly</b> expire (without notice)! Always ensure that your code is able to handle errors thrown when authentication fails! Alternatively, you can just verify your authentication token before every request to ensure you never call the API with an invalid auth token.
</aside>

<p>TachiWeb expects for the token to be included in all API requests to the server if a password is set. You can do this in two ways:</p>

<ol>
<li>Pass it in the <code>TW-Session</code> header, example: <code>TW-Session: 5ujo4i8dvqj84jgt8picvh0sif</code></li>
<li>Provide a <code>session</code> cookie. Example header with session cookie: <code>Cookie: session=5ujo4i8dvqj84jgt8picvh0sif;</code>. <strong>This should be the default choice when using the JavaScript client as calling <code>TWApi.Commands.Auth.execute</code> will automatically set the session cookie if authentication was successful!</strong></li>
</ol>

<blockquote>
<p>Example code that passes the authentication token:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://localhost:4567/api/your-operation"</span> <span class="se">\</span>
    -H <span class="s2">"TW-Session: 5ujo4i8dvqj84jgt8picvh0sif"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">Do</span> <span class="nx">nothing</span><span class="o">!</span> <span class="nx">After</span> <span class="nx">you</span> <span class="nx">call</span><span class="p">:</span>

<span class="nx">TWApi</span><span class="p">.</span><span class="nx">Commands</span><span class="p">.</span><span class="nx">Auth</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">{</span> <span class="na">password</span><span class="p">:</span> <span class="s2">"YOUR_PASSWORD"</span> <span class="p">});</span>

<span class="nx">the</span> <span class="nx">resulting</span> <span class="nx">API</span> <span class="nx">key</span> <span class="nx">is</span> <span class="nx">automatically</span> <span class="nx">passed</span> <span class="nx">to</span> <span class="nx">the</span> <span class="nx">server</span> <span class="nx">on</span> <span class="nx">future</span> <span class="nx">queries</span><span class="p">.</span>
</code></pre>
<blockquote>
<p>Remember to replace <code>5ujo4i8dvqj84jgt8picvh0sif</code> with your auth token!</p>
</blockquote>
<h2 id='verifying-auth-tokens-get-test_auth'>Verifying Auth Tokens <code>GET /test_auth</code></h2>
<blockquote>
<p>Code examples:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://localhost:4567/api/test_auth"</span> <span class="se">\</span>
    -H <span class="s2">"TW-Session: 5ujo4i8dvqj84jgt8picvh0sif"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// Not currently implemented in the JavaScript client</span>
</code></pre>
<p>You can test auth tokens using this endpoint.</p>
<h1 id='manga'>Manga</h1><h2 id='library-manga-get-library'>Library manga <code>GET /library</code></h2>
<blockquote>
<p>Sample code to get manga in library:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://localhost:4567/api/library"</span> <span class="se">\</span>
  -H <span class="s2">"TW-Session: 5ujo4i8dvqj84jgt8picvh0sif"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">TWApi</span><span class="p">.</span><span class="nx">Commands</span><span class="p">.</span><span class="nx">Library</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Result: "</span><span class="p">,</span> <span class="nx">result</span><span class="p">);</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Failed to get library!"</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"content"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">List</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">manga</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">library</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"chapters"</span><span class="p">:</span><span class="w"> </span><span class="mi">522</span><span class="p">,</span><span class="w">                          </span><span class="err">//</span><span class="w"> </span><span class="err">Total</span><span class="w"> </span><span class="err">number</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">chapters</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">manga</span><span class="w">
            </span><span class="s2">"unread"</span><span class="p">:</span><span class="w"> </span><span class="mi">522</span><span class="p">,</span><span class="w">                            </span><span class="err">//</span><span class="w"> </span><span class="err">Number</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">unread</span><span class="w"> </span><span class="err">chapters</span><span class="w">
            </span><span class="s2">"artist"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lee Gwang Su"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Son Jae ho"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"flags"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"DISPLAY_MODE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NAME"</span><span class="p">,</span><span class="w">               </span><span class="err">//</span><span class="w"> </span><span class="err">Display</span><span class="w"> </span><span class="err">chapter</span><span class="w"> </span><span class="err">'NAME's</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="err">'NUMBER's</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">manga?</span><span class="w">
                </span><span class="s2">"READ_FILTER"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ALL"</span><span class="p">,</span><span class="w">                 </span><span class="err">//</span><span class="w"> </span><span class="err">Show</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">'READ'</span><span class="p">,</span><span class="w"> </span><span class="err">'UNREAD'</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="err">'ALL'</span><span class="w"> </span><span class="err">chapters</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">manga?</span><span class="w">
                </span><span class="s2">"SORT_DIRECTION"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DESCENDING"</span><span class="p">,</span><span class="w">       </span><span class="err">//</span><span class="w"> </span><span class="err">Sort</span><span class="w"> </span><span class="err">chapters</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">manga</span><span class="w"> </span><span class="err">'ASCENDING'</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="err">'DESCENDING'?</span><span class="w">
                </span><span class="s2">"SORT_TYPE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SOURCE"</span><span class="p">,</span><span class="w">                </span><span class="err">//</span><span class="w"> </span><span class="err">Sort</span><span class="w"> </span><span class="err">by</span><span class="w"> </span><span class="err">'SOURCE'</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="err">by</span><span class="w"> </span><span class="err">chapter</span><span class="w"> </span><span class="err">'NUMBER's?</span><span class="w">
                </span><span class="s2">"DOWNLOADED_FILTER"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ALL"</span><span class="w">            </span><span class="err">//</span><span class="w"> </span><span class="err">Show</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">'DOWNLOADED'</span><span class="p">,</span><span class="w"> </span><span class="err">'NOT_DOWNLOADED'</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="err">'ALL'</span><span class="w"> </span><span class="err">chapters</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">manga?</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lorem ipsum stuff..."</span><span class="p">,</span><span class="w">
            </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ReadMangaToday"</span><span class="p">,</span><span class="w">               </span><span class="err">//</span><span class="w"> </span><span class="err">The</span><span class="w"> </span><span class="err">name</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">source</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">manga</span><span class="w"> </span><span class="err">belongs</span><span class="w"> </span><span class="err">to</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Noblesse"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"thumbnail_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.readmng.com/uploads/posters/0001_7.jpg"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"downloaded"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">                      </span><span class="err">//</span><span class="w"> </span><span class="err">Whether</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="err">not</span><span class="w"> </span><span class="err">some</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">chapters</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">manga</span><span class="w"> </span><span class="err">are</span><span class="w"> </span><span class="err">downloaded?</span><span class="w">
            </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.readmng.com/noblesse"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"genres"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Action, Adventure, Comedy, School Life, Shounen, Supernatural"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">                                  </span><span class="err">//</span><span class="w"> </span><span class="err">Internal</span><span class="w"> </span><span class="err">ID</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">manga</span><span class="w">
            </span><span class="s2">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">                           </span><span class="err">//</span><span class="w"> </span><span class="err">List</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">categories</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">manga</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">in</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">                          </span><span class="err">//</span><span class="w"> </span><span class="err">Internal</span><span class="w"> </span><span class="err">ID</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">category</span><span class="w">
                    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cool stuff!"</span><span class="w">             </span><span class="err">//</span><span class="w"> </span><span class="err">Name</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">category</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"favorite"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">                         </span><span class="err">//</span><span class="w"> </span><span class="err">Whether</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="err">not</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">manga</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">favorited</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ongoing"</span><span class="w">                       </span><span class="err">//</span><span class="w"> </span><span class="err">Either</span><span class="w"> </span><span class="err">'Ongoing'</span><span class="p">,</span><span class="w"> </span><span class="err">'Completed'</span><span class="p">,</span><span class="w"> </span><span class="err">'Licensed'</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="err">'Unknown'</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint fetches all manga in the user&#39;s library</p>
<h2 id='thumbnail-images-get-cover'>Thumbnail images <code>GET /cover</code></h2>
<p>Use this endpoint to grab the thumbnail image of a manga</p>

<blockquote>
<p>Code examples:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://localhost:4567/api/cover/INTERNAL_ID_OF_MANGA"</span> <span class="se">\</span>
  -H <span class="s2">"TW-Session: 5ujo4i8dvqj84jgt8picvh0sif"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// It is not recommended you use JS to fetch the image</span>
<span class="c1">// Instead, just set the src attribute of an img element to:</span>
<span class="c1">// http://localhost:4567/api/cover/INTERNAL_ID_OF_MANGA</span>

<span class="c1">// Code for those who still want to fetch the image manually:</span>
<span class="nx">TWApi</span><span class="p">.</span><span class="nx">Commands</span><span class="p">.</span><span class="nx">Cover</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Could not fetch thumbnail!"</span><span class="p">);</span>
<span class="p">},</span> <span class="p">{</span>
    <span class="na">mangaId</span><span class="p">:</span> <span class="nx">INTERNAL_ID_OF_MANGA</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">xhr</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Process the raw XMLHttpRequest object here</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>Remember to replace <code>INTERNAL_ID_OF_MANGA</code> with the internal ID of the manga you wish to fetch the thumbnail of</p>
</blockquote>
<h2 id='toggle-favorite-status-get-fave'>Toggle favorite status <code>GET /fave</code></h2>
<p>Use this endpoint to change the favorite status of a manga (whether or not it should be visible in the library).</p>

<blockquote>
<p>Code examples that favorite a manga</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://localhost:4567/api/fave/INTERNAL_ID_OF_MANGA"</span> -G <span class="se">\</span>
  -H <span class="s2">"TW-Session: 5ujo4i8dvqj84jgt8picvh0sif"</span> <span class="se">\</span>
  -d <span class="s2">"fave=true"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">TWApi</span><span class="p">.</span><span class="nx">Commands</span><span class="p">.</span><span class="nx">Favorite</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Favorite status changed!"</span><span class="p">);</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Failed to change favorite status"</span><span class="p">);</span>
<span class="p">},</span> <span class="p">{</span>
    <span class="na">mangaId</span><span class="p">:</span> <span class="nx">INTERNAL_ID_OF_MANGA</span><span class="p">,</span>
    <span class="na">fave</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>Remember to replace <code>INTERNAL_ID_OF_MANGA</code> with the internal ID of the manga!</p>
</blockquote>
<h3 id='query-parameters'>Query parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>fave</td>
<td>Boolean</td>
<td>NONE</td>
<td>no</td>
<td>If set to true, manga will be favorited, otherwise manga will be un-favorited.</td>
</tr>
</tbody></table>
<h2 id='get-chapters-get-chapters'>Get chapters <code>GET /chapters</code></h2>
<p>Gets a list of a manga&#39;s chapters, sorted by the chapter number. Note that this response should be sorted according to the <code>SORT_TYPE</code> manga flag before being displayed to the user.</p>

<blockquote>
<p>Code examples:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://localhost:4567/api/chapters/INTERNAL_ID_OF_MANGA"</span> -G <span class="se">\</span>
  -H <span class="s2">"TW-Session: 5ujo4i8dvqj84jgt8picvh0sif"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">TWApi</span><span class="p">.</span><span class="nx">Commands</span><span class="p">.</span><span class="nx">Chapters</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">content</span><span class="p">);</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Failed to get chapters!"</span><span class="p">);</span>
<span class="p">},</span> <span class="p">{</span>
    <span class="na">mangaId</span><span class="p">:</span> <span class="nx">INTERNAL_ID_OF_MANGA</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>Example response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"content"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">List</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">chapters</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">manga</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1430575817626</span><span class="p">,</span><span class="w">               </span><span class="err">//</span><span class="w"> </span><span class="err">Milliseconds</span><span class="w"> </span><span class="err">since</span><span class="w"> </span><span class="err">epoch</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">when</span><span class="w"> </span><span class="err">chapter</span><span class="w"> </span><span class="err">added</span><span class="w">
            </span><span class="s2">"source_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">301</span><span class="p">,</span><span class="w">                 </span><span class="err">//</span><span class="w"> </span><span class="err">Index</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">chapter</span><span class="w"> </span><span class="err">(sorted</span><span class="w"> </span><span class="err">by</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">it</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">displayed</span><span class="w"> </span><span class="err">on</span><span class="w"> </span><span class="err">source</span><span class="w"> </span><span class="err">page)</span><span class="w">
            </span><span class="s2">"read"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">                       </span><span class="err">//</span><span class="w"> </span><span class="err">Whether</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="err">not</span><span class="w"> </span><span class="err">chapter</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">completely</span><span class="w"> </span><span class="err">read</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Shokugeki no Soma - 0"</span><span class="p">,</span><span class="w">     </span><span class="err">//</span><span class="w"> </span><span class="err">Name</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">chapter</span><span class="w">
            </span><span class="s2">"chapter_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">                 </span><span class="err">//</span><span class="w"> </span><span class="err">Chapter</span><span class="w"> </span><span class="err">number</span><span class="w"> </span><span class="err">(extracted</span><span class="w"> </span><span class="err">from</span><span class="w"> </span><span class="err">chapter</span><span class="w"> </span><span class="err">name)</span><span class="w">
            </span><span class="s2">"download_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOT_DOWNLOADED"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Whether</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="err">not</span><span class="w"> </span><span class="err">chapter</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="s2">"DOWNLOADED"</span><span class="p">,</span><span class="w"> </span><span class="s2">"DOWNLOADING"</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="s2">"NOT_DOWNLOADED"</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">302</span><span class="p">,</span><span class="w">                           </span><span class="err">//</span><span class="w"> </span><span class="err">Internal</span><span class="w"> </span><span class="err">ID</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">chapter</span><span class="w">
            </span><span class="s2">"last_page_read"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">                  </span><span class="err">//</span><span class="w"> </span><span class="err">The</span><span class="w"> </span><span class="err">last</span><span class="w"> </span><span class="err">page</span><span class="w"> </span><span class="err">read</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">chapter</span><span class="w"> </span><span class="err">(</span><span class="mi">0</span><span class="err">-indexed)</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1430575817626</span><span class="p">,</span><span class="w">
            </span><span class="s2">"source_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
            </span><span class="s2">"read"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Shokugeki no Soma - 1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"chapter_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"download_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOT_DOWNLOADED"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">301</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last_page_read"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1430575817626</span><span class="p">,</span><span class="w">
            </span><span class="s2">"source_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">299</span><span class="p">,</span><span class="w">
            </span><span class="s2">"read"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Shokugeki no Soma - 2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"chapter_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"download_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOT_DOWNLOADED"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last_page_read"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='get-manga-info-get-manga_info'>Get manga info <code>GET /manga_info</code></h2>
<p>Gets a manga&#39;s info.</p>

<blockquote>
<p>Code examples:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://localhost:4567/api/manga_info/INTERNAL_ID_OF_MANGA"</span> -G <span class="se">\</span>
  -H <span class="s2">"TW-Session: 5ujo4i8dvqj84jgt8picvh0sif"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">TWApi</span><span class="p">.</span><span class="nx">Commands</span><span class="p">.</span><span class="nx">MangaInfo</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">content</span><span class="p">);</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Failed to get manga info!"</span><span class="p">);</span>
<span class="p">},</span> <span class="p">{</span>
    <span class="na">mangaId</span><span class="p">:</span> <span class="nx">INTERNAL_ID_OF_MANGA</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>Example response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"content"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">Same</span><span class="w"> </span><span class="err">format</span><span class="w"> </span><span class="err">as</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">manga</span><span class="w"> </span><span class="err">objects</span><span class="w"> </span><span class="err">you</span><span class="w"> </span><span class="err">get</span><span class="w"> </span><span class="err">from</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="s2">"Library manga"</span><span class="w"> </span><span class="err">endpoint</span><span class="w">
        </span><span class="s2">"chapters"</span><span class="p">:</span><span class="w"> </span><span class="mi">302</span><span class="p">,</span><span class="w">
        </span><span class="s2">"artist"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SAEKI Shun"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TSUKUDA Yuuto"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"flags"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"DISPLAY_MODE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NAME"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"READ_FILTER"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ALL"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"SORT_DIRECTION"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DESCENDING"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"SORT_TYPE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SOURCE"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"DOWNLOADED_FILTER"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ALL"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yukihira Souma's dream is to become a full-time chef in his father's restaurant and surpass his father's culinary skill. But just as Yukihira graduates from middle schools his father, Yukihira Jouichirou, closes down the restaurant to cook in Europe. Although downtrodden, Souma's fighting spirit is rekindled by a challenge from Jouichirou which is to survive in an elite culinary school where only 10% of the students graduate. Can Souma survive?"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ReadMangaToday"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Shokugeki no Soma"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"thumbnail_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.readmng.com/uploads/posters/1460123867.jpg"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"downloaded"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.readmng.com/shokugeki-no-soma"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"genres"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ecchi, Shounen"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
        </span><span class="s2">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"favorite"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unknown"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='get-chapter-page-count-get-page_count'>Get chapter page count <code>GET /page_count</code></h2>
<p>Get the amount of pages in a chapter.</p>

<blockquote>
<p>Code examples:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://localhost:4567/api/page_count/INTERNAL_ID_OF_MANGA/INTERNAL_ID_OF_CHAPTER"</span> -G <span class="se">\</span>
  -H <span class="s2">"TW-Session: 5ujo4i8dvqj84jgt8picvh0sif"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">TWApi</span><span class="p">.</span><span class="nx">Commands</span><span class="p">.</span><span class="nx">PageCount</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">page_count</span><span class="p">);</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Failed to get page count!"</span><span class="p">);</span>
<span class="p">},</span> <span class="p">{</span>
    <span class="na">mangaId</span><span class="p">:</span> <span class="nx">INTERNAL_ID_OF_MANGA</span><span class="p">,</span>
    <span class="na">chapterId</span><span class="p">:</span> <span class="nx">INTERNAL_ID_OF_CHAPTER</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>Example response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"page_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">46</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='set-chapter-reading-status-get-reading_status'>Set chapter reading status <code>GET /reading_status</code></h2>
<p>Set the new reading status of a chapter.</p>

<blockquote>
<p>Code examples:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://localhost:4567/api/reading_status/INTERNAL_ID_OF_MANGA/INTERNAL_ID_OF_CHAPTER"</span> -G <span class="se">\</span>
  -H <span class="s2">"TW-Session: 5ujo4i8dvqj84jgt8picvh0sif"</span> <span class="se">\</span>
  -d <span class="s2">"lp=8"</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://localhost:4567/api/reading_status/INTERNAL_ID_OF_MANGA/INTERNAL_ID_OF_CHAPTER"</span> -G <span class="se">\</span>
  -H <span class="s2">"TW-Session: 5ujo4i8dvqj84jgt8picvh0sif"</span> <span class="se">\</span>
  -d <span class="s2">"lp=20"</span> <span class="se">\</span>
  -d <span class="s2">"read=true"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">TWApi</span><span class="p">.</span><span class="nx">Commands</span><span class="p">.</span><span class="nx">ReadingStatus</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Failed to update reading status!"</span><span class="p">);</span>
<span class="p">},</span> <span class="p">{</span>
    <span class="na">mangaId</span><span class="p">:</span> <span class="nx">INTERNAL_ID_OF_MANGA</span><span class="p">,</span>
    <span class="na">chapterId</span><span class="p">:</span> <span class="nx">INTERNAL_ID_OF_CHAPTER</span><span class="p">,</span>
    <span class="na">read</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">lastReadPage</span><span class="p">:</span> <span class="mi">8</span>
<span class="p">});</span>
</code></pre><h3 id='query-parameters-2'>Query parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>read</td>
<td>Boolean</td>
<td>NONE</td>
<td>yes</td>
<td>If true, manga will be set as &#39;read&#39;, if false manga will be set as &#39;unread&#39;, if null no changes will be made.</td>
</tr>
<tr>
<td>lp (js: lastReadPage)</td>
<td>Number</td>
<td>NONE</td>
<td>yes</td>
<td>If non-null, update manga&#39;s last-read page to it, otherwise, no changes will be made.</td>
</tr>
</tbody></table>
<h2 id='set-manga-flag-get-set_flag'>Set manga flag <code>GET /set_flag</code></h2>
<p>Set a manga&#39;s flag.</p>
<h3 id='valid-flag-types'>Valid flag types</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Valid states</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>SORT_DIRECTION</code></td>
<td><code>DESCENDING</code>, <code>ASCENDING</code></td>
<td>Sort chapters in descending or ascending order.</td>
</tr>
<tr>
<td><code>DISPLAY_MODE</code></td>
<td><code>NAME</code>, <code>NUMBER</code></td>
<td>Display the chapter name or the chapter number?</td>
</tr>
<tr>
<td><code>READ_FILTER</code></td>
<td><code>READ</code>, <code>UNREAD</code>, <code>ALL</code></td>
<td>Display only read, only unread or all chapters?</td>
</tr>
<tr>
<td><code>DOWNLOADED_FILTER</code></td>
<td><code>DOWNLOADED</code>, <code>NOT_DOWNLOADED</code>, <code>ALL</code></td>
<td>Display only downloaded, only not downloaded or all chapters?</td>
</tr>
<tr>
<td><code>SORT_TYPE</code></td>
<td><code>SOURCE</code>, <code>NUMBER</code></td>
<td>Sort by the order chapters are displayed on the source page or by their detected chapter numbers?</td>
</tr>
</tbody></table>

<blockquote>
<p>Request format:</p>
</blockquote>
<pre class="highlight plaintext"><code>http://localhost:4567/api/set_flag/INTERNAL_ID_OF_MANGA/NAME_OF_FLAG/NEW_VALUE_OF_FLAG
</code></pre>
<blockquote>
<p>Example:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://localhost:4567/api/set_flag/11/SORT_TYPE/NUMBER"</span> -G <span class="se">\</span>
  -H <span class="s2">"TW-Session: 5ujo4i8dvqj84jgt8picvh0sif"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">TWApi</span><span class="p">.</span><span class="nx">Commands</span><span class="p">.</span><span class="nx">SetFlag</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Failed to set manga flag!"</span><span class="p">);</span>
<span class="p">},</span> <span class="p">{</span>
    <span class="na">mangaId</span><span class="p">:</span> <span class="nx">INTERNAL_ID_OF_MANGA</span><span class="p">,</span>
    <span class="na">flag</span><span class="p">:</span> <span class="s2">"SORT_TYPE"</span><span class="p">,</span>
    <span class="na">state</span><span class="p">:</span> <span class="s2">"NUMBER"</span>
<span class="p">});</span>
</code></pre><h2 id='update-manga-get-update'>Update manga <code>GET /update</code></h2>
<p>Update either manga info or manga chapters.</p>

<p>Update type must be either: <code>INFO</code> or <code>CHAPTERS</code>.</p>

<blockquote>
<p>Updating manga info:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://localhost:4567/api/update/INTERNAL_ID_OF_MANGA/INFO"</span> -G <span class="se">\</span>
  -H <span class="s2">"TW-Session: 5ujo4i8dvqj84jgt8picvh0sif"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">TWApi</span><span class="p">.</span><span class="nx">Commands</span><span class="p">.</span><span class="nx">Update</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Failed to update manga info!"</span><span class="p">);</span>
<span class="p">},</span> <span class="p">{</span>
    <span class="na">mangaId</span><span class="p">:</span> <span class="nx">INTERNAL_ID_OF_MANGA</span><span class="p">,</span>
    <span class="na">updateType</span><span class="p">:</span> <span class="s2">"INFO"</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>Updating chapters:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://localhost:4567/api/update/INTERNAL_ID_OF_MANGA/CHAPTERS"</span> -G <span class="se">\</span>
  -H <span class="s2">"TW-Session: 5ujo4i8dvqj84jgt8picvh0sif"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">TWApi</span><span class="p">.</span><span class="nx">Commands</span><span class="p">.</span><span class="nx">Update</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Added chapters: "</span><span class="p">,</span> <span class="nx">e</span><span class="p">.</span><span class="nx">added</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Removed chapters: "</span><span class="p">,</span> <span class="nx">e</span><span class="p">.</span><span class="nx">removed</span><span class="p">);</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Failed to update manga chapters!"</span><span class="p">);</span>
<span class="p">},</span> <span class="p">{</span>
    <span class="na">mangaId</span><span class="p">:</span> <span class="nx">INTERNAL_ID_OF_MANGA</span><span class="p">,</span>
    <span class="na">updateType</span><span class="p">:</span> <span class="s2">"CHAPTERS"</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>Example response (only applicable when updating chapters):</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"removed"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Chapters</span><span class="w"> </span><span class="err">removed</span><span class="w"> </span><span class="err">since</span><span class="w"> </span><span class="err">last</span><span class="w"> </span><span class="err">update</span><span class="w">
                   </span><span class="err">//</span><span class="w"> </span><span class="err">WARNING!</span><span class="w"> </span><span class="err">This</span><span class="w"> </span><span class="err">array</span><span class="w"> </span><span class="err">(and</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">added</span><span class="w"> </span><span class="err">array)</span><span class="w"> </span><span class="err">contain</span><span class="w"> </span><span class="err">chapters</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">different</span><span class="w"> </span><span class="err">format</span><span class="w"> </span><span class="err">than</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="s2">"Get chapters"</span><span class="w"> </span><span class="err">endpoint.</span><span class="w"> </span><span class="err">This</span><span class="w"> </span><span class="err">will</span><span class="w"> </span><span class="err">probably</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">changed</span><span class="w"> </span><span class="err">soon.</span><span class="w">
    </span><span class="s2">"added"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">     </span><span class="err">//</span><span class="w"> </span><span class="err">Chapters</span><span class="w"> </span><span class="err">added</span><span class="w"> </span><span class="err">since</span><span class="w"> </span><span class="err">last</span><span class="w"> </span><span class="err">update</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"bookmark"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">                     </span><span class="err">//</span><span class="w"> </span><span class="err">Whether</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="err">not</span><span class="w"> </span><span class="err">chapte</span><span class="w"> </span><span class="err">bookmarked</span><span class="w">
            </span><span class="s2">"source_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">                     </span><span class="err">//</span><span class="w"> </span><span class="err">Index</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">chapter</span><span class="w"> </span><span class="err">(sorted</span><span class="w"> </span><span class="err">by</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">it</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">displayed</span><span class="w"> </span><span class="err">on</span><span class="w"> </span><span class="err">source</span><span class="w"> </span><span class="err">page)</span><span class="w">
            </span><span class="s2">"read"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">                         </span><span class="err">//</span><span class="w"> </span><span class="err">Whether</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="err">not</span><span class="w"> </span><span class="err">chapter</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">completely</span><span class="w"> </span><span class="err">read</span><span class="w">
            </span><span class="s2">"date_upload"</span><span class="p">:</span><span class="w"> </span><span class="mi">1522765444992</span><span class="p">,</span><span class="w">          </span><span class="err">//</span><span class="w"> </span><span class="err">Milliseconds</span><span class="w"> </span><span class="err">since</span><span class="w"> </span><span class="err">epoch</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">when</span><span class="w"> </span><span class="err">chapter</span><span class="w"> </span><span class="err">uploaded</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">source</span><span class="w">
            </span><span class="s2">"recognizedNumber"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">              </span><span class="err">//</span><span class="w"> </span><span class="err">Whether</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="err">not</span><span class="w"> </span><span class="err">chapter</span><span class="w"> </span><span class="err">number</span><span class="w"> </span><span class="err">was</span><span class="w"> </span><span class="err">able</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">extracted</span><span class="w"> </span><span class="err">from</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">chapter</span><span class="w"> </span><span class="err">name</span><span class="w">
            </span><span class="s2">"chapter_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">542</span><span class="p">,</span><span class="w">                 </span><span class="err">//</span><span class="w"> </span><span class="err">Chapter</span><span class="w"> </span><span class="err">number</span><span class="w"> </span><span class="err">(extracted</span><span class="w"> </span><span class="err">from</span><span class="w"> </span><span class="err">chapter</span><span class="w"> </span><span class="err">name)</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Ruler Of The Land - 542"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Name</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">chapter</span><span class="w">
            </span><span class="s2">"date_fetch"</span><span class="p">:</span><span class="w"> </span><span class="mi">1525357445660</span><span class="p">,</span><span class="w">           </span><span class="err">//</span><span class="w"> </span><span class="err">Milliseconds</span><span class="w"> </span><span class="err">since</span><span class="w"> </span><span class="err">epoch</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">when</span><span class="w"> </span><span class="err">chapter</span><span class="w"> </span><span class="err">added</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">local</span><span class="w"> </span><span class="err">database</span><span class="w">
            </span><span class="s2">"manga_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">                         </span><span class="err">//</span><span class="w"> </span><span class="err">Internal</span><span class="w"> </span><span class="err">ID</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">manga</span><span class="w">
            </span><span class="s2">"last_page_read"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">                   </span><span class="err">//</span><span class="w"> </span><span class="err">The</span><span class="w"> </span><span class="err">last</span><span class="w"> </span><span class="err">page</span><span class="w"> </span><span class="err">read</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">chapter</span><span class="w"> </span><span class="err">(</span><span class="mi">0</span><span class="err">-indexed)</span><span class="w">
            </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/the-ruler-of-the-land/542"</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">The</span><span class="w"> </span><span class="err">URL</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">chapter</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">source</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"bookmark"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"source_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"read"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"date_upload"</span><span class="p">:</span><span class="w"> </span><span class="mi">1522765444992</span><span class="p">,</span><span class="w">
            </span><span class="s2">"recognizedNumber"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"chapter_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">541</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Ruler Of The Land - 541"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"date_fetch"</span><span class="p">:</span><span class="w"> </span><span class="mi">1525357445659</span><span class="p">,</span><span class="w">
            </span><span class="s2">"manga_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last_page_read"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/the-ruler-of-the-land/541"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='chapter-page-images-get-img'>Chapter page images <code>GET /img</code></h2>
<p>Use this endpoint to get a single image of a chapter</p>

<blockquote>
<p>Code examples:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://localhost:4567/api/img/INTERNAL_ID_OF_MANGA/INTERNAL_ID_OF_CHAPTER/0_INDEXED_PAGE_NUMBER"</span> <span class="se">\</span>
  -H <span class="s2">"TW-Session: 5ujo4i8dvqj84jgt8picvh0sif"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// Note that you do not need to use JS to fetch the image</span>
<span class="c1">// Instead, just set the src attribute of an img element to:</span>
<span class="c1">// http://localhost:4567/api/img/INTERNAL_ID_OF_MANGA/INTERNAL_ID_OF_CHAPTER/0_INDEXED_PAGE_NUMBER</span>

<span class="c1">// Code for those who still want to fetch the image manually:</span>
<span class="nx">TWApi</span><span class="p">.</span><span class="nx">Commands</span><span class="p">.</span><span class="nx">Image</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Could not fetch image!"</span><span class="p">);</span>
<span class="p">},</span> <span class="p">{</span>
    <span class="na">mangaId</span><span class="p">:</span> <span class="nx">INTERNAL_ID_OF_MANGA</span><span class="p">,</span>
    <span class="na">chapterId</span><span class="p">:</span> <span class="nx">INTERNAL_ID_OF_CHAPTER</span><span class="p">,</span>
    <span class="na">page</span><span class="p">:</span> <span class="mi">0</span><span class="nx">_INDEXED_PAGE_NUMBER</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">xhr</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Process the raw XMLHttpRequest object here</span>
<span class="p">});</span>
</code></pre>
<!--
### HTTP Request

`GET http://example.com/api/kittens`

### Query Parameters

Parameter | Default | Description
--------- | ------- | -----------
include_cats | false | If set to true, the result will also include cats.
available | true | If set to false, the result will include kittens that have already been adopted.

<aside class="success">
Remember  a happy kitten is an authenticated kitten!
</aside>

## Get a Specific Kitten

```ruby
require 'kittn'

api = Kittn::APIClient.authorize!('meowmeowmeow')
api.kittens.get(2)
```

```python
import kittn

api = kittn.authorize('meowmeowmeow')
api.kittens.get(2)
```

```shell
curl "http://example.com/api/kittens/2"
  -H "Authorization: meowmeowmeow"
```

```javascript
const kittn = require('kittn');

let api = kittn.authorize('meowmeowmeow');
let max = api.kittens.get(2);
```

> The above command returns JSON structured like this:

```json
{
  "id": 2,
  "name": "Max",
  "breed": "unknown",
  "fluffiness": 5,
  "cuteness": 10
}
```

This endpoint retrieves a specific kitten.

<aside class="warning">Inside HTML code blocks like this one, you can't use Markdown, so use <code>&lt;code&gt;</code> blocks to denote code.</aside>

### HTTP Request

`GET http://example.com/kittens/<ID>`

### URL Parameters

Parameter | Description
--------- | -----------
ID | The ID of the kitten to retrieve

## Delete a Specific Kitten

```ruby
require 'kittn'

api = Kittn::APIClient.authorize!('meowmeowmeow')
api.kittens.delete(2)
```

```python
import kittn

api = kittn.authorize('meowmeowmeow')
api.kittens.delete(2)
```

```shell
curl "http://example.com/api/kittens/2"
  -X DELETE
  -H "Authorization: meowmeowmeow"
```

```javascript
const kittn = require('kittn');

let api = kittn.authorize('meowmeowmeow');
let max = api.kittens.delete(2);
```

> The above command returns JSON structured like this:

```json
{
  "id": 2,
  "deleted" : ":("
}
```

This endpoint deletes a specific kitten.

### HTTP Request

`DELETE http://example.com/kittens/<ID>`

### URL Parameters

Parameter | Description
--------- | -----------
ID | The ID of the kitten to delete
-->
<h1 id='errors'>Errors</h1>
<!--
<aside class="notice">
This error section is stored in a separate file in <code>includes/_errors.md</code>. Slate allows you to optionally separate out your docs into many files...just save them to the <code>includes</code> folder and add them to the top of your <code>index.md</code>'s frontmatter. Files are included in the order listed.
</aside>

The Kittn API uses the following error codes:


Error Code | Meaning
---------- | -------
400 | Bad Request -- Your request is invalid.
401 | Unauthorized -- Your API key is wrong.
403 | Forbidden -- The kitten requested is hidden for administrators only.
404 | Not Found -- The specified kitten could not be found.
405 | Method Not Allowed -- You tried to access a kitten with an invalid method.
406 | Not Acceptable -- You requested a format that isn't json.
410 | Gone -- The kitten requested has been removed from our servers.
418 | I'm a teapot.
429 | Too Many Requests -- You're requesting too many kittens! Slow down!
500 | Internal Server Error -- We had a problem with our server. Try again later.
503 | Service Unavailable -- We're temporarily offline for maintenance. Please try again later. -->

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
